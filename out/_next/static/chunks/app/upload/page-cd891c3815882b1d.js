(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[676],{7600:function(e){"use strict";e.exports=canvas},172:function(){},2001:function(){},3779:function(){},2258:function(){},6608:function(e,t,n){Promise.resolve().then(n.bind(n,1359))},7164:function(e,t,n){"use strict";n.d(t,{f:function(){return s}});var a=n(2173),o=n(6348);let s={upload:e=>a.Z.post("".concat(o.Sh,"/api/emails"),e).then(e=>e.data),create:()=>a.Z.post("".concat(o.Sh,"/api/emails")).then(e=>e.data),get:()=>a.Z.get("".concat(o.Sh,"/api/getCount")).then(e=>e.data),getEmails:e=>a.Z.get("".concat(o.Sh,"/api/emails/").concat(e)).then(e=>e.data),getEmailsId:e=>a.Z.get("".concat(o.Sh,"/api/email/").concat(e)).then(e=>e.data),changeFolder:(e,t)=>a.Z.get("".concat(o.Sh,"/api/changeFolder/").concat(e,"/").concat(t)).then(e=>e.data),sendEmail:(e,t)=>a.Z.post("".concat(o.Sh,"/api/send-mail"),{email:e,docId:t}).then(e=>e.data)}},9484:function(e,t,n){"use strict";n.d(t,{x:function(){return s}});var a=n(2173),o=n(6348);let s={registration:e=>a.Z.post("".concat(o.Sh,"/api/auth/registration"),e).then(e=>e.data),login:e=>a.Z.post("".concat(o.Sh,"/api/auth/login"),e).then(e=>e.data),getUser:()=>a.Z.get("".concat(o.Sh,"/api/getUser")).then(e=>e.data)}},1359:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var a=n(7437),o=n(2265),s=n(3518),r=n.n(s),i=n(6691),l=n.n(i);let d=e=>{var t;let{data:n,label:s,icon:i="",style:d="",handlerAction:c,onClick:u}=e,[_,h]=(0,o.useState)(!1),[m,p]=(0,o.useState)(n),[f,x]=(0,o.useState)(null),g=()=>h(!_),v=e=>{f==e?x(null):x(e),g()};return(0,a.jsxs)("div",{className:r().dropdown,style:{borderRadius:25},children:[(0,a.jsxs)("div",{className:r().dropdown_header,style:{borderRadius:25},onClick:e=>{u?u(e):g()},children:[i.length>0?(0,a.jsx)(l(),{width:25,height:25,src:i,alt:""}):"",s?(0,a.jsx)("span",{className:r().label,children:f?null===(t=m.find(e=>e.id==f))||void 0===t?void 0:t.label:s}):"",s&&(_?(0,a.jsx)(l(),{width:10,className:r().icon,height:10,src:"images/close.svg",alt:""}):(0,a.jsx)(l(),{className:r().icon,width:10,height:10,src:"images/open.svg",alt:""}))]}),(0,a.jsx)("div",{className:"".concat(r().dropdown_body," ").concat(d," ").concat(_&&r().open),children:m.map((e,t)=>(0,a.jsxs)("div",{className:r().dropdown_item,onClick:t=>{v(e.id),c&&c(e.id,t)},children:[(0,a.jsx)("span",{className:"".concat(r().dropdown_item_dot," ").concat(e.id==f&&r().selected),children:"• "}),e.label]},t))})]})},c={firstSelect:[{id:1,label:"отправить"},{id:4,label:"удалить"}],bodySelect:[{id:1,label:"добавить в важные"},{id:2,label:"добавить в черновые"},{id:3,label:"добавить в шаблонные"}],secondSelect:[{id:1,label:"анализировать с AI"},{id:2,label:"сравнить с AI"},{id:3,label:"нарисовать"},{id:4,label:"комментировать"},{id:5,label:"добавить файл"},{id:6,label:"запросить \xabправо\xbb"},{id:7,label:"поменять \xabвид\xbb"},{id:8,label:"открыть на весь экран"}],thirdSelect:[{id:1,label:"открыть чат"},{id:2,label:"пригласить участника"}]};var u=n(8669),_=n.n(u),h=n(219),m=n.n(h),p=n(5813),f=n(7866),x=n(7456),g=n(5257),v=n.n(g);function b(){return(0,a.jsx)("div",{className:v().body})}function j(e){let{children:t}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.default,{}),(0,a.jsxs)("div",{className:m().body,children:[(0,a.jsx)(f.default,{}),(0,a.jsxs)(x.default,{children:["  ",t]}),(0,a.jsx)(b,{})]})]})}var y=n(3046),w=n(818),N=n(3188),S=n(1530),k=n(7931),D=n(7917),Z=n.n(D);function F(e){let{file:t}=e,[n,s]=(0,o.useState)(0);return t&&(0,a.jsx)("div",{children:(0,a.jsx)("div",{style:{overflow:"hidden",width:740},children:(0,a.jsx)(S.Z,{file:t,onLoadSuccess:function(e){let{numPages:t}=e;s(t)},children:Array.from({length:n},(e,t)=>(0,a.jsx)(k.Z,{width:740,pageNumber:t+1,renderAnnotationLayer:!0,renderTextLayer:!1,className:Z().canvas},"page_".concat(t+1)))})})})}N.default.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";var C=n(5530),K=n.n(C),A=n(3932),B=n(7164),E=n(9879);function I(e){let{showModal:t,setShowModal:n}=e,s=(0,y.v9)(E.Jm),[r,i]=(0,o.useState)(""),d=async()=>{await B.f.sendEmail(r,s),n(!1)};return t?(0,a.jsxs)("div",{className:K().modal_content,children:[(0,a.jsx)("h2",{className:K().header_text,children:"чтобы пригласить участника в этот документ, введите его электронный ящик"}),(0,a.jsx)("div",{children:(0,a.jsx)(A.default,{handlerAction:(e,t)=>{i(t)},className:K().input,label:"email",name:"email",type:"text"})}),(0,a.jsxs)("div",{className:K().button_section,children:[(0,a.jsxs)("button",{className:K().button,onClick:d,children:[(0,a.jsx)(l(),{src:"./images/check.svg",width:25,height:25,alt:""})," отправить"]}),(0,a.jsxs)("button",{className:K().button,onClick:()=>n(!1),children:[(0,a.jsx)(l(),{src:"./images/check.svg",width:25,height:25,alt:""})," отменить"]})]})]}):null}function M(){let e=(0,o.useRef)(null),t=(0,y.I0)(),n=(0,y.v9)(E.Jm),[s,r]=(0,o.useState)(null),[i,l]=(0,o.useState)(!1);(0,y.v9)(e=>e.documents.body);let u=async(e,a)=>{e&&0!==n&&(await B.f.changeFolder(n,e),t((0,w.K4)(!0)))},h=async(e,t)=>{l(!i)};async function m(e){var n,a;if(null===(n=e.target)||void 0===n?void 0:n.files){let n=null===(a=e.target)||void 0===a?void 0:a.files[0];r(n);let o=new FormData;o.append("pdf",n);let s=(await B.f.upload(o)).id;t((0,E.Ev)(s)),t((0,w.K4)(!0))}}return(0,a.jsx)(j,{children:(0,a.jsxs)("div",{className:_().content,children:[(0,a.jsxs)("div",{className:_().buttonSection,children:[(0,a.jsx)(d,{label:"основное",data:c.firstSelect,icon:"/images/pen.svg",handlerAction:u}),(0,a.jsx)(d,{label:"дополнительное",data:c.secondSelect,icon:"/images/pencel.svg",handlerAction:u}),(0,a.jsx)(d,{label:"стороны в этом документе",data:c.thirdSelect,icon:"/images/userCircle.svg",handlerAction:h})]}),(0,a.jsxs)("div",{className:_().body,children:[(0,a.jsx)("div",{className:_().icon_Body,children:s?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(d,{style:_().button_body,data:c.bodySelect,icon:"/images/file.svg",handlerAction:u})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d,{style:_().button_body,data:c.bodySelect,icon:"/images/file.svg",onClick:()=>{e.current&&e.current.click()}}),(0,a.jsx)("input",{type:"file",onChange:m,ref:e,style:{display:"none"}})]})}),(0,a.jsx)(F,{file:s})]}),(0,a.jsx)(I,{setShowModal:l,showModal:i})]})})}},8085:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(7437),o=n(2265),s=n(1396),r=n.n(s);function i(e){let{style:t={},url:n="",label:s="",className:i="",onClick:l}=e,[d,c]=(0,o.useState)("");return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(r(),{href:n,onClick:l,className:i,style:t,children:s})})}},5813:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var a=n(7437),o=n(2265),s=n(4653),r=n.n(s),i=n(6691),l=n.n(i),d=n(8085),c=n(9484),u=n(3046),_=n(9504),h=n(4033),m=n(2173);function p(){let e=(0,u.v9)(_.rS),t=(0,h.useRouter)(),n=(0,u.I0)(),s=async()=>{let e=await c.x.getUser();console.log(e,"datadata");let t=e.id;n((0,_.Iv)(t))};return(0,o.useEffect)(()=>{let n=localStorage.getItem("access_token");0===e.length&&(null==n?void 0:n.length)===0?t.push("/auth/login"):n?(m.Z.defaults.headers.common.Authorization="Bearer "+n,s()):t.push("/auth/login")},[]),(0,a.jsxs)("div",{className:r().header,children:[(0,a.jsxs)("div",{className:r().logo,children:[(0,a.jsx)("div",{className:r().label,children:(0,a.jsx)("div",{className:r().text_wrapper,children:"structura"})}),(0,a.jsxs)("div",{className:r().text_under_logo,children:["умный и безопасный ",(0,a.jsx)("br",{}),"онлайн-документооборот"]})]}),(0,a.jsxs)("div",{className:r().button_div,children:[(0,a.jsx)("div",{className:r().create,children:(0,a.jsxs)("div",{children:[(0,a.jsx)(l(),{src:"/images/create.svg",width:25,height:25,alt:"create"}),(0,a.jsx)(d.default,{className:r().button,url:"/create",label:"создать документ"})]})}),(0,a.jsx)("div",{className:r().create,children:(0,a.jsxs)("div",{children:[(0,a.jsx)(l(),{src:"/images/upload.svg",width:25,height:25,alt:"upload"}),(0,a.jsx)(d.default,{className:r().button,url:"/upload",label:"загрузить документ"})]})}),(0,a.jsx)("div",{className:r().search,children:(0,a.jsxs)("div",{children:[(0,a.jsx)(l(),{src:"/images/search.svg",width:25,height:25,alt:"upload"}),(0,a.jsx)(d.default,{className:r().button,url:"/search",label:"найти документ по похожим словам".substring(0,3)+"..."})]})})]}),(0,a.jsx)("div",{className:r().profile_div,children:(0,a.jsx)("div",{className:r().profile,children:(0,a.jsxs)("div",{children:[(0,a.jsx)(l(),{src:"./images/user.svg",width:25,height:25,alt:"upload"}),(0,a.jsx)(d.default,{className:r().profileButton,url:"/profile",label:"мой кабинет"})]})})})]})}},3932:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(7437),o=n(2265),s=n(9504),r=n(3046);function i(e){let{style:t,name:n,label:i="",type:l="text",className:d,register:c=!1,handlerAction:u}=e,[_,h]=(0,o.useState)(""),m=(0,r.I0)(),p=e=>{h(e.target.value)};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("input",{style:t,id:"input",className:d,placeholder:i,name:n,type:l,value:_,onBlur:e=>{if(u&&u(n,e.target.value),c){let t=e.target.value;m((0,s.l9)({key:n,value:t}))}},onChange:e=>{p(e)}})})}},7866:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var a=n(7437),o=n(2265),s=n(7266),r=n.n(s),i=n(7164),l=n(6691),d=n.n(l),c=n(3046),u=n(818),_=n(4033),h=n(8270);function m(e){let{text:t,icon:n,id:s}=e,i=(0,c.v9)(u.r7),[l,m]=(0,o.useState)(0);(0,c.v9)(u.Kv),(0,c.I0)();let p=(0,_.useRouter)();return(0,o.useEffect)(()=>{console.log(i,"23123"),i.map(e=>{console.log(e.id,s,"item"),e.id===s&&m(e.count)})},[i]),(0,a.jsxs)("span",{onClick:()=>p.push("/page/".concat(h.j[s])),children:[(0,a.jsx)(d(),{className:r().image,width:19,height:19,src:n,alt:t}),(0,a.jsx)("span",{className:r().text,children:t}),(0,a.jsx)("span",{className:r().count,children:l})]})}function p(){let e=(0,c.I0)(),t=(0,c.v9)(u.Kv),n=async()=>{let t=await i.f.get();e((0,u.K0)(t)),e((0,u.K4)(!1))};return(0,o.useEffect)(()=>{t&&n()},[t]),(0,a.jsxs)("div",{className:r().body,children:[(0,a.jsx)("h2",{children:"Документы"}),(0,a.jsxs)("div",{className:r().menuList,children:[(0,a.jsx)(m,{id:10,icon:"/images/shareFat.svg",text:"Входящие"}),(0,a.jsx)(m,{id:11,icon:"/images/fireSimple.svg",text:"Горящие"}),(0,a.jsx)(m,{id:12,icon:"/images/vector.svg",text:"Исходящие"}),(0,a.jsx)(m,{id:1,icon:"/images/star.svg",text:"Важные"}),(0,a.jsx)(m,{id:2,icon:"/images/clipboard.svg",text:"Черновые"}),(0,a.jsx)(m,{id:3,icon:"/images/vector2.svg",text:"Шаблонные"}),(0,a.jsx)(m,{id:4,icon:"/images/trashSimple.svg",text:"Корзина"})]})]})}},7456:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var a=n(7437);n(2265);var o=n(2525),s=n.n(o);function r(e){let{children:t}=e;return(0,a.jsx)("div",{className:s().body,children:t})}},9879:function(e,t,n){"use strict";n.d(t,{Ev:function(){return s},Jm:function(){return r}});let a=(0,n(9730).oM)({name:"documents",initialState:{body:"",document:{folder_id:0,id:0,owner_id:0}},reducers:{setBody:(e,t)=>{e.body=t.payload},setDocument:(e,t)=>{e.document=t.payload},setDocumentId:(e,t)=>{e.document={...e.document,id:t.payload}}}}),{setBody:o,setDocumentId:s}=a.actions,r=e=>e.documents.document.id;t.ZP=a.reducer},818:function(e,t,n){"use strict";n.d(t,{K0:function(){return o},K4:function(){return s},Kv:function(){return i},r7:function(){return r}});let a=(0,n(9730).oM)({name:"menu",initialState:{menu:[],loading:!0},reducers:{setMenu:(e,t)=>{e.menu=t.payload},setLoading:(e,t)=>{e.loading=t.payload}}}),{setMenu:o,setLoading:s}=a.actions,r=e=>e.menus.menu,i=e=>e.menus.loading;t.ZP=a.reducer},9504:function(e,t,n){"use strict";n.d(t,{Iv:function(){return l},ZW:function(){return d},l9:function(){return r},o4:function(){return i},rS:function(){return c}});var a=n(9730),o=n(2173);let s=(0,a.oM)({name:"users",initialState:{token:"",user_id:0,user:{email:"",name:"",surname:"",fatherName:"",country:"",passport:"",password:"admin",dob:""}},reducers:{registration:(e,t)=>{e.user={...e.user,[t.payload.key]:t.payload.value}},setToken:(e,t)=>{o.Z.defaults.headers.common.Authorization="Bearer "+t.payload,e.token=t.payload},setUserId:(e,t)=>{e.user_id=t.payload}}}),{registration:r,setToken:i,setUserId:l}=s.actions,d=e=>e.users.user,c=e=>e.users.token;t.ZP=s.reducer},8270:function(e,t,n){"use strict";n.d(t,{_:function(){return o},j:function(){return a}});let a={1:"important",2:"draft",3:"template",4:"trash",10:"inbox",11:"hot",12:"sent"},o={new:{ru:"создан и (или) загружен",en:"создан и (или) загружен",color:"black"},partially:{ru:"частично подписан",en:"частично подписан",color:"#FF4B15"},sent:{ru:"прислан",en:"прислан",color:"#1072E5"},signed:{ru:"подписан",en:"подписан",color:"#009B23"},torn:{ru:"частично или полностью порван",en:"частично или полностью порван",color:"#F3212A"}}},6348:function(e,t,n){"use strict";n.d(t,{Ft:function(){return a},Sh:function(){return o}});let a=e=>{let t=new Date(e).getFullYear(),n=new Date(e).getMonth(),a=new Date(e).getDate();return"".concat(a>9?a:"0".concat(a),".").concat(n>8?n+1:"0".concat(n+1),".").concat(t)},o="http://back.speedshop.am"},8669:function(e){e.exports={content:"page_content__5D233",buttonSection:"page_buttonSection__eaJJa",body:"page_body__PLy1i",icon_Body:"page_icon_Body__wQWfv",button_body:"page_button_body__erUNr"}},3518:function(e){e.exports={dropdown:"dropDown_dropdown__jjTO5",dropdown_header:"dropDown_dropdown_header__vu_MY",label:"dropDown_label__9_LG1",dropdown_body:"dropDown_dropdown_body__qoY_K",dropdown_body_left:"dropDown_dropdown_body_left__e5LfC",open:"dropDown_open__harpt",dropdown_item:"dropDown_dropdown_item__GcWcW",dropdown_item_dot:"dropDown_dropdown_item_dot__Ra0xV",selected:"dropDown_selected__3RQym",icon:"dropDown_icon__mS9cB"}},4653:function(e){e.exports={header:"header_header__Awatn",logo:"header_logo__QDj1X",label:"header_label__tZ9mg",text_wrapper:"header_text_wrapper__ViDXQ",text_under_logo:"header_text_under_logo__ztDsi",create:"header_create__iRB5B",profile:"header_profile__horyl",search:"header_search__axCs6",button:"header_button__00R_3",profileButton:"header_profileButton__jJ_eb",button_div:"header_button_div__FMOuT",profile_div:"header_profile_div__DdEHD"}},219:function(e){e.exports={body:"layout_body__S1UHb"}},5530:function(e){e.exports={modal_content:"modal_modal_content__FuaV1",header_text:"modal_header_text__swhY7",input:"modal_input__wY8ov",button_section:"modal_button_section__m_G7i",button:"modal_button__KzYD0"}},7266:function(e){e.exports={body:"navbar_body__UkrOR",menuList:"navbar_menuList__p18W6",count:"navbar_count__4J2K8",text:"navbar_text__69jQK",image:"navbar_image__AZxnG",header:"navbar_header__vSEPQ",logo:"navbar_logo__bKgsm",label:"navbar_label__SMsCO",text_wrapper:"navbar_text_wrapper__vtIH_",text_under_logo:"navbar_text_under_logo__s5YwS"}},2525:function(e){e.exports={body:"body_body__QaMKj"}},5257:function(e){e.exports={body:"body_body__jANxv"}},7917:function(e){e.exports={canvas:"pdf_canvas__Ku_pD"}}},function(e){e.O(0,[651,58,396,413,968,971,472,744],function(){return e(e.s=6608)}),_N_E=e.O()}]);