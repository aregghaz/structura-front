(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[201],{1989:function(e,t,s){Promise.resolve().then(s.t.bind(s,5074,23)),Promise.resolve().then(s.bind(s,1003)),Promise.resolve().then(s.bind(s,5813)),Promise.resolve().then(s.t.bind(s,219,23)),Promise.resolve().then(s.bind(s,7866)),Promise.resolve().then(s.bind(s,7456)),Promise.resolve().then(s.t.bind(s,5257,23))},679:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{unstable_getImgProps:function(){return c},default:function(){return l}});let a=s(1024),n=s(7929),r=s(2637),i=s(413),o=a._(s(9950)),c=e=>{(0,r.warnOnce)("Warning: unstable_getImgProps() is experimental and may change or be removed at any time. Use at your own risk.");let{props:t}=(0,n.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,s]of Object.entries(t))void 0===s&&delete t[e];return{props:t}},l=i.Image},7164:function(e,t,s){"use strict";s.d(t,{f:function(){return r}});var a=s(2173),n=s(6348);let r={upload:e=>a.Z.post("".concat(n.Sh,"/api/emails"),e).then(e=>e.data),create:()=>a.Z.post("".concat(n.Sh,"/api/emails")).then(e=>e.data),get:()=>a.Z.get("".concat(n.Sh,"/api/getCount")).then(e=>e.data),getEmails:e=>a.Z.get("".concat(n.Sh,"/api/emails/").concat(e)).then(e=>e.data),getEmailsId:e=>a.Z.get("".concat(n.Sh,"/api/email/").concat(e)).then(e=>e.data),getEmailsUsers:()=>a.Z.get("".concat(n.Sh,"/api/emailUsers")).then(e=>e.data),changeFolder:(e,t)=>a.Z.get("".concat(n.Sh,"/api/changeFolder/").concat(e,"/").concat(t)).then(e=>e.data),sendEmail:(e,t,s)=>a.Z.post("".concat(n.Sh,"/api/send-mail"),{email:e,docId:t,userType:s}).then(e=>e.data),getDocUsers:e=>a.Z.post("".concat(n.Sh,"/api/get-email-info"),{docId:e}).then(e=>e.data)}},9484:function(e,t,s){"use strict";s.d(t,{x:function(){return r}});var a=s(2173),n=s(6348);let r={registration:e=>a.Z.post("".concat(n.Sh,"/api/auth/registration"),e).then(e=>e.data),login:e=>a.Z.post("".concat(n.Sh,"/api/auth/login"),e).then(e=>e.data),getUser:()=>a.Z.get("".concat(n.Sh,"/api/getUser")).then(e=>e.data)}},8085:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var a=s(7437),n=s(2265),r=s(1396),i=s.n(r);function o(e){let{style:t={},url:s="",label:r="",className:o="",onClick:c}=e,[l,u]=(0,n.useState)("");return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(i(),{href:s,onClick:c,className:o,style:t,children:r})})}},1003:function(e,t,s){"use strict";s.r(t),s.d(t,{Email:function(){return g}});var a=s(7437),n=s(2747),r=s.n(n),i=s(2265),o=s(7164),c=s(6348),l=s(8270),u=s(6691),d=s.n(u),_=s(1396),h=s.n(_);function m(e){let{id:t}=e,[s,n]=(0,i.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:r().more,onClick:()=>n(!s),children:"..."}),s?(0,a.jsx)(h(),{className:r().modal_content,href:"/document?id=".concat(t),children:"открыть документ"}):null]})}let g=e=>{let{pageId:t}=e,[s,n]=(0,i.useState)([]),u=async()=>{n(await o.f.getEmails(t))};return(0,i.useEffect)(()=>{u()},[]),s.length>0?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:r().document,children:s.map((e,t)=>(0,a.jsxs)("div",{className:r().document_item,children:[(0,a.jsxs)("div",{className:r().document_body,children:[(0,a.jsxs)("span",{className:r().user_section,children:[(0,a.jsxs)("span",{children:[e.email_users.map((e,t)=>{if("my"===e.user_status||"my-third"===e.user_status)return"verified"!==e.users.status?(0,a.jsx)(d(),{src:"/images/userCircle.svg",width:35,height:35,alt:"userCircle"},t):"not-signed"!==e.status?(0,a.jsx)(d(),{src:"/images/signUser.svg",width:35,height:35,alt:"userCircle"},t):(0,a.jsx)(d(),{src:"/images/verified.svg",width:35,height:35,alt:"userCircle"},t)}),"\xa0 \xa0 \xa0",e.email_users.map((e,t)=>{if("other"===e.user_status||"other-third"===e.user_status)return"verified"!==e.users.status?(0,a.jsx)(d(),{src:"/images/userCircle.svg",width:35,height:35,alt:"userCircle"},t):"not-signed"!==e.status?(0,a.jsx)(d(),{src:"/images/signUser.svg",width:35,height:35,alt:"userCircle"},t):(0,a.jsx)(d(),{src:"/images/verified.svg",width:35,height:35,alt:"userCircle"},t)})]}),(0,a.jsx)(m,{id:e.id})]}),(0,a.jsx)("span",{className:r().subject,children:e.subject}),(0,a.jsx)("span",{style:{backgroundColor:l._[e.status].color,height:10,width:10,borderRadius:10}}),(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:r().email_text,children:"статус:"}),"  ",(0,a.jsx)("span",{className:r().email_text_underline,children:l._[e.status].ru})]}),(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:r().email_text,children:"дата последнего действия с документом:"})," ",(0,a.jsx)("span",{className:r().email_text_underline,children:(0,c.Ft)(e.updated_at)})]})]}),(0,a.jsx)("div",{className:r().notes})]},t))})}):(0,a.jsx)(a.Fragment,{children:"no emails"})}},5813:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var a=s(7437),n=s(2265),r=s(4653),i=s.n(r),o=s(6691),c=s.n(o),l=s(8085),u=s(9484),d=s(3046),_=s(9504),h=s(4033),m=s(2173);function g(){let e=(0,d.v9)(_.rS),t=(0,h.useRouter)(),s=(0,d.I0)(),r=async()=>{let e=await u.x.getUser();console.log(e,"datadata");let t=e.id;s((0,_.Iv)(t))};return(0,n.useEffect)(()=>{let s=localStorage.getItem("access_token");0===e.length&&(null==s?void 0:s.length)===0?t.push("/auth/login"):s?(m.Z.defaults.headers.common.Authorization="Bearer "+s,r()):t.push("/auth/login")},[]),(0,a.jsxs)("div",{className:i().header,children:[(0,a.jsxs)("div",{className:i().logo,children:[(0,a.jsx)("div",{className:i().label,children:(0,a.jsx)("div",{className:i().text_wrapper,children:"structura"})}),(0,a.jsxs)("div",{className:i().text_under_logo,children:["умный и безопасный ",(0,a.jsx)("br",{}),"онлайн-документооборот"]})]}),(0,a.jsxs)("div",{className:i().button_div,children:[(0,a.jsx)("div",{className:i().create,children:(0,a.jsxs)("div",{children:[(0,a.jsx)(c(),{src:"/images/create.svg",width:25,height:25,alt:"create"}),(0,a.jsx)(l.default,{className:i().button,url:"/create",label:"создать документ"})]})}),(0,a.jsx)("div",{className:i().create,children:(0,a.jsxs)("div",{children:[(0,a.jsx)(c(),{src:"/images/upload.svg",width:25,height:25,alt:"upload"}),(0,a.jsx)(l.default,{className:i().button,url:"/upload",label:"загрузить документ"})]})}),(0,a.jsx)("div",{className:i().search,children:(0,a.jsxs)("div",{children:[(0,a.jsx)(c(),{src:"/images/search.svg",width:25,height:25,alt:"upload"}),(0,a.jsx)(l.default,{className:i().button,url:"/search",label:"найти документ по похожим словам".substring(0,3)+"..."})]})})]}),(0,a.jsx)("div",{className:i().profile_div,children:(0,a.jsx)("div",{className:i().profile,children:(0,a.jsxs)("div",{children:[(0,a.jsx)(c(),{src:"./images/user.svg",width:25,height:25,alt:"upload"}),(0,a.jsx)(l.default,{className:i().profileButton,url:"/profile",label:"мой кабинет"})]})})})]})}},7866:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var a=s(7437),n=s(2265),r=s(7266),i=s.n(r),o=s(7164),c=s(6691),l=s.n(c),u=s(3046),d=s(818),_=s(4033),h=s(8270);function m(e){let{text:t,icon:s,id:r}=e,o=(0,u.v9)(d.r7),[c,m]=(0,n.useState)(0);(0,u.v9)(d.Kv),(0,u.I0)();let g=(0,_.useRouter)();return(0,n.useEffect)(()=>{o.map(e=>{console.log(e.id,r,"item"),e.id===r&&m(e.count)})},[o]),(0,a.jsxs)("span",{onClick:()=>g.push("/page/".concat(h.j[r])),children:[(0,a.jsx)(l(),{className:i().image,width:19,height:19,src:s,alt:t}),(0,a.jsx)("span",{className:i().text,children:t}),(0,a.jsx)("span",{className:i().count,children:c})]})}function g(){let e=(0,u.I0)(),t=(0,u.v9)(d.Kv),s=async()=>{let t=await o.f.get();e((0,d.K0)(t)),e((0,d.K4)(!1))};return(0,n.useEffect)(()=>{t&&s()},[t]),(0,a.jsxs)("div",{className:i().body,children:[(0,a.jsx)("h2",{children:"Документы"}),(0,a.jsxs)("div",{className:i().menuList,children:[(0,a.jsx)(m,{id:10,icon:"/images/shareFat.svg",text:"Входящие"}),(0,a.jsx)(m,{id:11,icon:"/images/fireSimple.svg",text:"Горящие"}),(0,a.jsx)(m,{id:12,icon:"/images/vector.svg",text:"Исходящие"}),(0,a.jsx)(m,{id:1,icon:"/images/star.svg",text:"Важные"}),(0,a.jsx)(m,{id:2,icon:"/images/clipboard.svg",text:"Черновые"}),(0,a.jsx)(m,{id:3,icon:"/images/vector2.svg",text:"Шаблонные"}),(0,a.jsx)(m,{id:4,icon:"/images/trashSimple.svg",text:"Корзина"})]})]})}},7456:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var a=s(7437);s(2265);var n=s(2525),r=s.n(n);function i(e){let{children:t}=e;return(0,a.jsx)("div",{className:r().body,children:t})}},818:function(e,t,s){"use strict";s.d(t,{K0:function(){return n},K4:function(){return r},Kv:function(){return o},r7:function(){return i}});let a=(0,s(9730).oM)({name:"menu",initialState:{menu:[],loading:!0},reducers:{setMenu:(e,t)=>{e.menu=t.payload},setLoading:(e,t)=>{e.loading=t.payload}}}),{setMenu:n,setLoading:r}=a.actions,i=e=>e.menus.menu,o=e=>e.menus.loading;t.ZP=a.reducer},9504:function(e,t,s){"use strict";s.d(t,{Iv:function(){return c},ZW:function(){return l},l9:function(){return i},o4:function(){return o},rS:function(){return u}});var a=s(9730),n=s(2173);let r=(0,a.oM)({name:"users",initialState:{token:"",user_id:0,user:{email:"",name:"",surname:"",status:"",fatherName:"",country:"",passport:"",password:"admin",dob:"",id:0}},reducers:{registration:(e,t)=>{e.user={...e.user,[t.payload.key]:t.payload.value}},setToken:(e,t)=>{n.Z.defaults.headers.common.Authorization="Bearer "+t.payload,e.token=t.payload},setUserId:(e,t)=>{e.user_id=t.payload}}}),{registration:i,setToken:o,setUserId:c}=r.actions,l=e=>e.users.user,u=e=>e.users.token;t.ZP=r.reducer},8270:function(e,t,s){"use strict";s.d(t,{_:function(){return n},j:function(){return a}});let a={1:"important",2:"draft",3:"template",4:"trash",10:"inbox",11:"hot",12:"sent"},n={new:{ru:"создан и (или) загружен",en:"создан и (или) загружен",color:"black"},partially:{ru:"частично подписан",en:"частично подписан",color:"#FF4B15"},sent:{ru:"прислан",en:"прислан",color:"#1072E5"},signed:{ru:"подписан",en:"подписан",color:"#009B23"},torn:{ru:"частично или полностью порван",en:"частично или полностью порван",color:"#F3212A"}}},6348:function(e,t,s){"use strict";s.d(t,{Ft:function(){return a},Sh:function(){return r},e$:function(){return n}});let a=e=>{let t=new Date(e).getFullYear(),s=new Date(e).getMonth(),a=new Date(e).getDate();return"".concat(a>9?a:"0".concat(a),".").concat(s>8?s+1:"0".concat(s+1),".").concat(t)},n=e=>{switch(e){case"not-verified":return 1;case"verified":return 2;case"not-signed":return 3;default:return 0}},r="http://127.0.0.1:8000"},5074:function(e){e.exports={content:"page_content__s9qJr"}},2747:function(e){e.exports={document:"email_document__U0Zua",document_body:"email_document_body__gI1C0",user_section:"email_user_section__7hvns",subject:"email_subject__7_tpd",email_text:"email_email_text__94n8Y",email_text_underline:"email_email_text_underline__X8WlH",more:"email_more__YdPRY",document_item:"email_document_item__17Vtx",notes:"email_notes__QxWAE",modal_content:"email_modal_content__GZVlk"}},4653:function(e){e.exports={header:"header_header__Awatn",logo:"header_logo__QDj1X",label:"header_label__tZ9mg",text_wrapper:"header_text_wrapper__ViDXQ",text_under_logo:"header_text_under_logo__ztDsi",create:"header_create__iRB5B",profile:"header_profile__horyl",search:"header_search__axCs6",button:"header_button__00R_3",profileButton:"header_profileButton__jJ_eb",button_div:"header_button_div__FMOuT",profile_div:"header_profile_div__DdEHD"}},219:function(e){e.exports={body:"layout_body__S1UHb"}},7266:function(e){e.exports={body:"navbar_body__UkrOR",menuList:"navbar_menuList__p18W6",count:"navbar_count__4J2K8",text:"navbar_text__69jQK",image:"navbar_image__AZxnG",header:"navbar_header__vSEPQ",logo:"navbar_logo__bKgsm",label:"navbar_label__SMsCO",text_wrapper:"navbar_text_wrapper__vtIH_",text_under_logo:"navbar_text_under_logo__s5YwS"}},2525:function(e){e.exports={body:"body_body__QaMKj"}},5257:function(e){e.exports={body:"body_body__jANxv"}},6691:function(e,t,s){e.exports=s(679)},4033:function(e,t,s){e.exports=s(94)}},function(e){e.O(0,[58,396,413,971,472,744],function(){return e(e.s=1989)}),_N_E=e.O()}]);